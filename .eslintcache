[{"/Users/mario/Apps/chat-application/src/index.js":"1","/Users/mario/Apps/chat-application/src/App.js":"2","/Users/mario/Apps/chat-application/src/reportWebVitals.js":"3","/Users/mario/Apps/chat-application/src/components/Chat.js":"4","/Users/mario/Apps/chat-application/src/components/Messages.js":"5","/Users/mario/Apps/chat-application/src/helpers.js":"6","/Users/mario/Apps/chat-application/src/components/Members.js":"7","/Users/mario/Apps/chatApp/src/index.js":"8","/Users/mario/Apps/chatApp/src/App.js":"9","/Users/mario/Apps/chatApp/src/reportWebVitals.js":"10","/Users/mario/Apps/chatApp/src/components/Chat.js":"11","/Users/mario/Apps/chatApp/src/helpers.js":"12","/Users/mario/Apps/chatApp/src/components/Messages.js":"13","/Users/mario/Apps/chatApp/src/components/Members.js":"14"},{"size":500,"mtime":1607697815944,"results":"15","hashOfConfig":"16"},{"size":204,"mtime":1609194340703,"results":"17","hashOfConfig":"16"},{"size":362,"mtime":1607697815949,"results":"18","hashOfConfig":"16"},{"size":2722,"mtime":1609194529240,"results":"19","hashOfConfig":"16"},{"size":929,"mtime":1609194413738,"results":"20","hashOfConfig":"16"},{"size":822,"mtime":1609336016926,"results":"21","hashOfConfig":"16"},{"size":213,"mtime":1609194398613,"results":"22","hashOfConfig":"16"},{"size":500,"mtime":1609336400000,"results":"23","hashOfConfig":"24"},{"size":204,"mtime":1609336400000,"results":"25","hashOfConfig":"24"},{"size":362,"mtime":1609336400000,"results":"26","hashOfConfig":"24"},{"size":2722,"mtime":1609336400000,"results":"27","hashOfConfig":"24"},{"size":822,"mtime":1609336400000,"results":"28","hashOfConfig":"24"},{"size":929,"mtime":1609336400000,"results":"29","hashOfConfig":"24"},{"size":213,"mtime":1609336400000,"results":"30","hashOfConfig":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},"jnlv43",{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"33"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1muy1ak",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/mario/Apps/chat-application/src/index.js",[],["61","62"],"/Users/mario/Apps/chat-application/src/App.js",[],"/Users/mario/Apps/chat-application/src/reportWebVitals.js",[],"/Users/mario/Apps/chat-application/src/components/Chat.js",["63"],"import React, { useState, useEffect, useRef} from \"react\";\nimport Messages from \"./Messages\";\nimport {channelID, randomColor, randomName} from \"../helpers\";\nimport Members from \"./Members\";\n\n\nconst Chat = () => {\nconst [user, setUser] = useState({username: randomName(), color: randomColor()});\nconst [messages, setMessages] = useState([]);\nconst [newMessage, setNewMessage] = useState(\"\");\nconst [members, setMembers] = useState({ inRoom: []});\nconst drone = useRef();\n\n\nuseEffect(() => {\n\n  drone.current = new window.Scaledrone(channelID, {\n    data: user,\n  });\n\n  const room = drone.current.subscribe('observable-room');\n\n  drone.current.on(\"open\", (error) => {\n    if (error) {\n      console.error(error);\n    } else {\n      console.log(\"Connected\");\n      const droneState = {...user};\n      droneState.id = drone.current.clientId;\n      setUser({droneState});\n    }\n  });\n\n  room.on(\"message\", (message) => {\n    const {data, id, timestamp, member} = message;\n    const time = new Date(timestamp * 1000).toLocaleTimeString(\"hr-HR\");\n    messages.push({id, member, text: data, time});\n    setMessages([...messages], messages);\n    console.log(messages);\n  });\n\n  room.on(\"members\", (mems)=> {\n    members.inRoom = mems;\n    setMembers({...members});\n  });\n\n  room.on(\"member_join\", (member) => {\n    members.inRoom.push(member);\n    setMembers({...members} );\n  });\n  room.on(\"member_leave\", (member) => {\n    const mems = members.inRoom.filter(\n      (memberIndex) => memberIndex.id !== member.id\n    );\n    members.inRoom = mems;\n    setMembers({...members});\n  })\n}, [])\n\n\n\nfunction handleOnChange(event) {\n    setNewMessage(event.target.value);\n}\n\nfunction sendMessage() {\n  console.log(drone.current);\n  drone.current.publish({\n    room: \"observable-room\",\n    message: newMessage,\n  });\n  setNewMessage(\"\");\n}\n\nreturn (\n        <div className=\"container\">\n          <div className=\"sidebar\">\n            <ul>\n              {members.inRoom.map((member) => {\n                return (\n                  <Members key={member.id} name={member.clientData.username} color={member.clientData.color}/>\n                )\n              })\n              }\n            </ul>\n          </div>\n          <div className=\"chatbox\">\n            <Messages messages={messages} user={user.droneState} />\n          <div className=\"input_field_box\">\n          <input\n            value={newMessage}\n            onChange={handleOnChange}\n            placeholder=\"Upišite poruku...\"\n            className=\"input_field\"\n            type=\"text\"\n          />\n\n        <button onClick={sendMessage} className=\"send-message-button\">\n          Šalji\n        </button>\n        </div>\n      </div>\n    </div>\n    );\n};\n\nexport default Chat;\n","/Users/mario/Apps/chat-application/src/components/Messages.js",[],"/Users/mario/Apps/chat-application/src/helpers.js",[],"/Users/mario/Apps/chat-application/src/components/Members.js",[],"/Users/mario/Apps/chatApp/src/index.js",[],"/Users/mario/Apps/chatApp/src/App.js",[],"/Users/mario/Apps/chatApp/src/reportWebVitals.js",[],"/Users/mario/Apps/chatApp/src/components/Chat.js",["64"],"/Users/mario/Apps/chatApp/src/helpers.js",[],"/Users/mario/Apps/chatApp/src/components/Messages.js",[],"/Users/mario/Apps/chatApp/src/components/Members.js",[],{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","severity":1,"message":"70","line":58,"column":4,"nodeType":"71","endLine":58,"endColumn":6,"suggestions":"72"},{"ruleId":"69","severity":1,"message":"70","line":58,"column":4,"nodeType":"71","endLine":58,"endColumn":6,"suggestions":"73"},"no-native-reassign",["74"],"no-negated-in-lhs",["75"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'members', 'messages', and 'user'. Either include them or remove the dependency array. You can also do a functional update 'setMessages(m => ...)' if you only need 'messages' in the 'setMessages' call.","ArrayExpression",["76"],["77"],"no-global-assign","no-unsafe-negation",{"desc":"78","fix":"79"},{"desc":"78","fix":"80"},"Update the dependencies array to be: [members, messages, user]",{"range":"81","text":"82"},{"range":"83","text":"82"},[1577,1579],"[members, messages, user]",[1577,1579]]